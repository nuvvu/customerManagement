(function(e){function t(t){for(var n,o,r=t[0],l=t[1],c=t[2],m=0,u=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},s={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06c8":function(e,t,a){"use strict";var n=a("e959"),s=a.n(n);s.a},2025:function(e,t,a){},"286a":function(e,t,a){"use strict";var n=a("3854"),s=a.n(n);s.a},"2a92":function(e,t,a){},3854:function(e,t,a){},"3a5f":function(e,t,a){"use strict";var n=a("2a92"),s=a.n(n);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),s=a("8aa5"),i=a.n(s),o=a("43f9"),r=a.n(o),l=a("8c4f"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("img",{staticClass:"login__logo",attrs:{src:a("9279")}}),n("form",{staticClass:"login__form md-layout",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[n("md-card",{staticClass:"md-layout-item md-size-100"},[n("md-card-header",{staticClass:"login__header"},[n("md-icon",{staticStyle:{margin:"0px 12px 0px 4px",color:"#fff"}},[e._v("lock")]),n("div",{staticClass:"md-title",staticStyle:{"font-weight":"700","text-align":"center"}},[e._v("Logowanie")])],1),n("md-card-content",{staticClass:"login__content md-layout-item"},[n("Input",{staticStyle:{width:"80%"},attrs:{mail:"true",label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("Input",{staticStyle:{width:"80%"},attrs:{password:"true",label:"Hasło"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("md-button",{staticClass:"md-raised md-primary",on:{click:e.login}},[e._v("Zaloguj")]),e.error?n("div",{staticClass:"login__error"},[e._v(e._s(this.error))]):e._e(),e.loading?n("md-progress-spinner",{staticStyle:{margin:"16px 0"},attrs:{"md-stroke":"4","md-mode":"indeterminate"}}):e._e()],1)],1)],1)])},d=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-field",[a("label",{staticClass:"label"},[e._v(e._s(e.label))]),this.text?a("md-input",{attrs:{type:"text",value:this.value},on:{input:e.handleChange}}):e._e(),this.password?a("md-input",{attrs:{type:"password",value:this.value},on:{input:e.handleChange}}):e._e(),this.mail?a("md-input",{attrs:{type:"email",value:this.value},on:{input:e.handleChange}}):e._e(),this.date?a("md-input",{attrs:{placeholder:"Data",min:"2019-01-01",max:"2030-12-31",type:"date",value:this.value},on:{input:e.handleChange}}):e._e()],1)],1)},u=[],h={name:"Input",props:{label:"",value:"",date:!1,mail:!1,password:!1,text:!1},methods:{handleChange(e){this.$emit("input",e)}}},p=h,v=a("2877"),b=Object(v["a"])(p,m,u,!1,null,null,null),f=b.exports,_={name:"home",components:{Input:f},data(){return{email:"",password:"",error:"",loading:!1}},methods:{login(e){this.loading=!0,e.preventDefault(),i.a.auth().signInWithEmailAndPassword(this.email,this.password).then(()=>{this.$router.replace("Home"),this.loading=!1},e=>{this.error=e,this.loading=!1})}}},y=_,k=(a("3a5f"),Object(v["a"])(y,c,d,!1,null,"6016935e",null)),w=k.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"nav"},[a("router-link",{staticClass:"nav__option",attrs:{to:"/Flota"}},[a("div",{staticClass:"nav__background nav__background--storage"}),a("md-button",{staticClass:"md-raised md-primary"},[e._v("Magazyn")])],1),a("router-link",{staticClass:"nav__option",attrs:{to:"/Wypozyczenia"}},[a("div",{staticClass:"nav__background nav__background--accepted"}),a("md-button",{staticClass:"md-raised md-primary"},[e._v("Pewniaki")])],1),a("router-link",{staticClass:"nav__option",attrs:{to:"/Rozmowy"}},[a("div",{staticClass:"nav__background nav__background--talk"}),a("md-button",{staticClass:"md-raised md-primary"},[e._v("Wstępne rozmowy")])],1)],1)},j=[],C={},g=C,$=(a("c480"),Object(v["a"])(g,z,j,!1,null,"37f1619a",null)),x=$.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-content",{staticClass:"wrapper"},[a("transition",{attrs:{duration:500,mode:"out-in",appear:"","enter-active-class":"slideInDown","leave-active-class":"slideOutDown"}},[this.empty?a("md-empty-state",{staticClass:"empty",attrs:{"md-icon":"add","md-label":"Nie dodano żadneych rur","md-description":"Kliknij, aby dodać rury"},nativeOn:{click:function(t){return e.$handleModalOpen(t)}}}):e._e()],1),!1===this.empty?a("md-table",{staticClass:"table",attrs:{"md-card":""}},[a("md-table-toolbar",{staticClass:"table__header"},[a("h1",{staticClass:"md-title table__title"},[e._v(" Rodzajów rur: "+e._s(e.cars.length)+" ")]),a("md-field",{staticClass:"table__search md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Wyszukaj..."},on:{input:e.searchOnTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("md-table-row",{staticClass:"table--row"},[a("md-table-head",[e._v("Średnica")]),a("md-table-head",[e._v("Grubość ścianki")]),a("md-table-head",[e._v("Ilość")]),a("md-table-head",[e._v("Usuń")]),a("md-table-head",[e._v("Edytuj")])],1),e._l(e.cars,(function(t,n){return a("Car",{key:n,staticClass:"table--row",attrs:{index:n,srednica:t.srednica,scianka:t.scianka,ilosc:t.ilosc},on:{deleteCar:function(a){return e.deleteCar(t)},editCar:function(a){return e.editCar(t)}}})}))],2):e._e(),a("transition",{attrs:{mode:"out-in",appear:"","enter-class":"slideDown","leave-to-class":"slideDown","enter-active-class":"slideDown--time","leave-active-class":"slideDown--time"}},[e.modal?a("Modal",{attrs:{defaultCar:this.car,edit:this.edit,fleet:"true",title:"Rury"},on:{handleModalClose:e.handleModalClose,addCar:e.addCar,deleteCar:function(t){return e.deleteCar(e.car)}}}):e._e()],1)],1)},R=[],T=a("f7fe"),I=a.n(T),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-table-row",[a("md-table-cell",[e._v(e._s(e.srednica))]),a("md-table-cell",[e._v(e._s(e.scianka))]),a("md-table-cell",[e._v(e._s(e.ilosc))]),a("md-table-cell",[a("md-button",{staticClass:"md-icon-button md-accent",nativeOn:{click:function(t){return e.deleteCar(t)}}},[a("md-icon",[e._v("delete")])],1)],1),a("md-table-cell",[a("md-button",{staticClass:"md-icon-button md-primary",nativeOn:{click:function(t){return e.editCar(t)}}},[a("md-icon",[e._v("create")])],1)],1)],1)},D=[],W={name:"Car",props:{srednica:"",scianka:"",ilosc:""},methods:{deleteCar(){this.$emit("deleteCar")},editCar(){this.$emit("editCar")}}},S=W,E=Object(v["a"])(S,M,D,!1,null,null,null),L=E.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal md-layout"},[a("div",{staticClass:"outerWrapper",on:{click:e.handleModalClose}}),a("form",{staticClass:"form md-layout-item"},[a("md-card",{staticClass:"form__content md-layout-item"},[a("md-card-header",[a("div",{staticClass:"md-title",staticStyle:{"font-weight":"700","text-align":"center"}},[e._v("Dodaj "+e._s(e.title))])]),this.fleet?a("md-card-content",{staticClass:"md-layout-item"},[a("Input",{attrs:{text:"true",label:"Średnica"},model:{value:e.car.srednica,callback:function(t){e.$set(e.car,"srednica",t)},expression:"car.srednica"}}),a("Input",{attrs:{text:"true",label:"Grubość ścianki"},model:{value:e.car.scianka,callback:function(t){e.$set(e.car,"scianka",t)},expression:"car.scianka"}}),a("Input",{attrs:{text:"true",label:"Ilość"},model:{value:e.car.ilosc,callback:function(t){e.$set(e.car,"ilosc",t)},expression:"car.ilosc"}}),a("md-button",{staticClass:"md-raised md-primary",on:{click:e.addCar}},[e._v("Dodaj")])],1):e._e(),this.talks?a("md-card-content",{staticClass:"md-layout-item"},[a("Input",{attrs:{text:"true",label:"Czyja (Wymagane)"},model:{value:e.talk.czyja,callback:function(t){e.$set(e.talk,"czyja",t)},expression:"talk.czyja"}}),a("Input",{attrs:{text:"true",label:"Dane"},model:{value:e.talk.dane,callback:function(t){e.$set(e.talk,"dane",t)},expression:"talk.dane"}}),a("Input",{attrs:{text:"true",label:"Numer telefonu"},model:{value:e.talk.nr,callback:function(t){e.$set(e.talk,"nr",t)},expression:"talk.nr"}}),a("Input",{attrs:{text:"true",label:"E-mail"},model:{value:e.talk.email,callback:function(t){e.$set(e.talk,"email",t)},expression:"talk.email"}}),a("Input",{attrs:{text:"true",label:"Miejscowosc (Wymagane)"},model:{value:e.talk.miejscowosc,callback:function(t){e.$set(e.talk,"miejscowosc",t)},expression:"talk.miejscowosc"}}),a("Input",{attrs:{text:"true",label:"Informacje (Wymagane)"},model:{value:e.talk.informacje,callback:function(t){e.$set(e.talk,"informacje",t)},expression:"talk.informacje"}}),a("md-autocomplete",{attrs:{"md-options":e.srednica},model:{value:e.talk.srednica,callback:function(t){e.$set(e.talk,"srednica",t)},expression:"talk.srednica"}},[a("label",[e._v("Średnica Ø (Wymagane)")])]),a("Input",{attrs:{date:"true",label:"Data spotkania"},model:{value:e.talk.spotkanie,callback:function(t){e.$set(e.talk,"spotkanie",t)},expression:"talk.spotkanie"}}),a("Input",{attrs:{text:"true",label:"Planowany termin rozpoczęcia prac (Wymagane)"},model:{value:e.talk.rozpoczecie,callback:function(t){e.$set(e.talk,"rozpoczecie",t)},expression:"talk.rozpoczecie"}}),a("md-button",{staticClass:"md-raised md-primary",on:{click:e.addTalk}},[e._v("Dodaj")])],1):e._e(),this.rents?a("md-card-content",{staticClass:"md-layout-item"},[a("Input",{attrs:{text:"true",label:"Czyja (Wymagane)"},model:{value:e.rent.czyja,callback:function(t){e.$set(e.rent,"czyja",t)},expression:"rent.czyja"}}),a("Input",{attrs:{text:"true",label:"Dane"},model:{value:e.rent.dane,callback:function(t){e.$set(e.rent,"dane",t)},expression:"rent.dane"}}),a("Input",{attrs:{text:"true",label:"Numer telefonu"},model:{value:e.rent.nr,callback:function(t){e.$set(e.rent,"nr",t)},expression:"rent.nr"}}),a("Input",{attrs:{text:"true",label:"E-mail"},model:{value:e.rent.email,callback:function(t){e.$set(e.rent,"email",t)},expression:"rent.email"}}),a("Input",{attrs:{text:"true",label:"Miejscowosc (Wymagane)"},model:{value:e.rent.miejscowosc,callback:function(t){e.$set(e.rent,"miejscowosc",t)},expression:"rent.miejscowosc"}}),a("Input",{attrs:{text:"true",label:"Informacje (Wymagane)"},model:{value:e.rent.informacje,callback:function(t){e.$set(e.rent,"informacje",t)},expression:"rent.informacje"}}),a("md-autocomplete",{attrs:{"md-options":e.srednica},model:{value:e.rent.srednica,callback:function(t){e.$set(e.rent,"srednica",t)},expression:"rent.srednica"}},[a("label",[e._v("Średnica Ø (Wymagane)")])]),a("Input",{attrs:{text:"true",label:"Planowany termin rozpoczęcia prac (Wymagane)"},model:{value:e.rent.rozpoczecie,callback:function(t){e.$set(e.rent,"rozpoczecie",t)},expression:"rent.rozpoczecie"}}),a("Input",{attrs:{date:"true",label:"Termin Wykonania"},model:{value:e.rent.wykonanie,callback:function(t){e.$set(e.rent,"wykonanie",t)},expression:"rent.wykonanie"}}),a("Input",{attrs:{text:"true",label:"Pracownicy"},model:{value:e.rent.pracownicy,callback:function(t){e.$set(e.rent,"pracownicy",t)},expression:"rent.pracownicy"}}),a("Input",{attrs:{text:"true",label:"Ile metrów"},model:{value:e.rent.metry,callback:function(t){e.$set(e.rent,"metry",t)},expression:"rent.metry"}}),a("md-autocomplete",{attrs:{"md-options":e.zaplacono},model:{value:e.rent.zaplacono,callback:function(t){e.$set(e.rent,"zaplacono",t)},expression:"rent.zaplacono"}},[a("label",[e._v("Zapłacono")])]),a("md-button",{staticClass:"md-raised md-primary",on:{click:e.addRent}},[e._v("Dodaj")])],1):e._e()],1)],1)])},A=[],P={name:"Modal",data(){return{car:Object.assign({},this.defaultCar),talk:Object.assign({},this.defaultTalk),rent:Object.assign({},this.defaultRent),zaplacono:["Tak","Nie"],srednica:["125","140","160","200","225"],samochody:[]}},components:{Input:f},props:{defaultCar:{srednica:"",scianka:"",ilosc:""},defaultTalk:{czyja:"",dane:"",nr:"",email:"",miejscowosc:"",informacje:"",srednica:"",spotkanie:"",rozpoczecie:""},defaultRent:{czyja:"",dane:"",nr:"",email:"",miejscowosc:"",informacje:"",srednica:"",rozpoczecie:"",wykonanie:"",pracownicy:"",metry:"",zaplacono:""},title:"",fleet:!1,talks:!1,rents:!1,edit:!1},methods:{handleModalClose(){!0===this.edit?(this.$emit("addCar",this.defaultCar),this.$emit("addTalk",this.defaultTalk),this.$emit("addRent",this.defaultRent)):this.$emit("handleModalClose")},addCar(){this.$emit("addCar",this.car)},addTalk(){this.$emit("addTalk",this.talk)},addRent(){this.$emit("addRent",this.rent)}}},B=P,F=(a("06c8"),Object(v["a"])(B,N,A,!1,null,"6f700f49",null)),H=F.exports,q={methods:{$handleModalOpen(){this.modal=!0}},mounted(){this.$root.$on("handleModalOpen",()=>{this.modal=!0})}},K={name:"Fleet",mixins:[q],data(){return{cars:[],car:{},frozenCars:[],modal:!1,edit:!1,empty:!1,search:null,searched:[],flag:!1,sort:"ilosc",sortOrder:"asc"}},components:{Car:L,Modal:H},methods:{handleModalClose(){this.car={},this.modal=!1,this.edit=!1,this.getCars(!1,!1)},addCar(e){this.empty=!1,i.a.firestore().collection("Samochody").doc(`${e.srednica}_${e.scianka}_${e.ilosc}`).set({srednica:e.srednica,scianka:e.scianka,ilosc:e.ilosc}).then(this.handleModalClose)},editCar(e){this.deleteCar(e),this.car=e,this.edit=!0,this.$handleModalOpen()},deleteCar(e){i.a.firestore().collection("Samochody").doc(`${e.srednica}_${e.scianka}_${e.ilosc}`).delete()},getCars(e,t){this.flag=t?!this.flag:this.flag;let a=!0===this.flag?"asc":"desc";this.sort=e||this.sort;const n=[];i.a.firestore().collection("Samochody").orderBy(this.sort,a).get().then(e=>{e.forEach(e=>{const t=e.data();t.car=`${t.srednica} ${t.scianka} ${t.ilosc}`,n.push(t)})}).then(()=>{!1===Object.is(this.cars,n)&&(this.cars=n,this.frozenCars=n),0===this.cars.length&&(this.empty=!0)})},searchOnTable:I()((function(){this.cars=this.searchByName(this.cars,this.search)}),500),toLower(e){return e.toString().toLowerCase()},searchByName(e,t){return t?e.filter(e=>this.toLower(e.car).includes(this.toLower(t))):this.frozenCars}},mounted(){this.getCars()},created(){this.searched=this.cars}},G=K,U=Object(v["a"])(G,O,R,!1,null,null,null),Z=U.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-content",{staticClass:"wrapper"},[a("transition",{attrs:{duration:500,mode:"out-in",appear:"","enter-active-class":"slideInDown","leave-active-class":"slideOutDown"}},[this.empty?a("md-empty-state",{staticClass:"empty",attrs:{"md-icon":"add","md-label":"Nie dodano żadnego wypożyczenia","md-description":"Kliknij, aby dodać wypożyczenie"},nativeOn:{click:function(t){return e.$handleModalOpen(t)}}}):e._e()],1),!1===this.empty?a("md-table",{staticClass:"table",attrs:{"md-card":""}},[a("md-table-toolbar",{staticClass:"table__header"},[a("h1",{staticClass:"md-title table__title"},[e._v("Rozmowy w trakcie: "+e._s(e.talks.length))]),a("router-link",{staticStyle:{margin:"8px 16px"},attrs:{to:"/Archiwum"}},[a("md-button",{staticClass:"md-raised md-primary"},[a("md-icon",[e._v("archive")]),e._v("Archiwum ")],1)],1),a("md-field",{staticClass:"table__search md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Wyszukaj..."},on:{input:e.searchOnTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("md-table-row",{staticClass:"table--row"},[a("md-table-head",[e._v("Czyja")]),a("md-table-head",[e._v("Dane")]),a("md-table-head",[e._v("Numer")]),a("md-table-head",[e._v("E-mail")]),a("md-table-head",[e._v("Miejscowość")]),a("md-table-head",[e._v("Informacje")]),a("md-table-head",[e._v("Średnica Ø")]),a("md-table-head",[e._v("Spotkanie")]),a("md-table-head",[e._v("Rozpoczecie")]),a("md-table-head",[e._v("Archiwizuj")]),a("md-table-head",[e._v("Edytuj")])],1),e._l(e.talks,(function(t,n){return a("Talk",{key:n,staticClass:"table--row",attrs:{archive:!1,index:n,czyja:t.czyja,dane:t.dane,nr:t.nr,email:t.email,miejscowosc:t.miejscowosc,informacje:t.informacje,srednica:t.srednica,spotkanie:t.spotkanie,rozpoczecie:t.rozpoczecie},on:{archiveTalk:function(a){return e.archiveTalk(t)},editTalk:function(a){return e.editTalk(t)}}})}))],2):e._e(),a("transition",{attrs:{mode:"out-in",appear:"","enter-class":"slideDown","leave-to-class":"slideDown","enter-active-class":"slideDown--time","leave-active-class":"slideDown--time"}},[e.modal?a("Modal",{attrs:{defaultTalk:this.talk,edit:this.edit,talks:"true",title:"Klienta"},on:{handleModalClose:e.handleModalClose,addTalk:e.addTalk}}):e._e()],1)],1)},Q=[],V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-table-row",[a("md-table-cell",[e._v(e._s(e.czyja))]),a("md-table-cell",[e._v(e._s(e.dane))]),a("md-table-cell",[a("a",{attrs:{href:"tel:"+e.nr}},[e._v(e._s(e.nr))])]),a("md-table-cell",[e._v(e._s(e.email))]),a("md-table-cell",[e._v(e._s(e.miejscowosc))]),a("md-table-cell",[e._v(e._s(e.informacje))]),a("md-table-cell",[e._v(e._s(e.srednica))]),a("md-table-cell",[e._v(e._s(e.formattedSpotkanie))]),a("md-table-cell",[e._v(e._s(e.rozpoczecie))]),!1===this.archive?a("md-table-cell",[a("md-button",{staticClass:"md-icon-button md-accent",nativeOn:{click:function(t){return e.archiveTalk(t)}}},[a("md-icon",[e._v("archive")])],1)],1):e._e(),!1===this.archive?a("md-table-cell",[a("md-button",{staticClass:"md-icon-button md-primary",nativeOn:{click:function(t){return e.editTalk(t)}}},[a("md-icon",[e._v("create")])],1)],1):e._e()],1)},Y=[],X={name:"Talk",props:{czyja:"",dane:"",nr:"",email:"",miejscowosc:"",informacje:"",srednica:"",spotkanie:"",formattedSpotkanie:"",rozpoczecie:"",archive:!1},methods:{archiveTalk(){this.$emit("archiveTalk")},editTalk(){this.$emit("editTalk")}}},ee=X,te=Object(v["a"])(ee,V,Y,!1,null,null,null),ae=te.exports,ne={name:"Talks",mixins:[q],data(){return{talks:[],talk:{},frozenTalks:[],modal:!1,edit:!1,empty:!1,search:null,searched:[],flag:!1,sort:"spotkanie",sortOrder:"asc"}},components:{Talk:ae,Modal:H},methods:{handleModalClose(){this.talk={},this.modal=!1,this.edit=!1,this.getTalks(!1,!1)},addTalk(e){this.empty=!1,i.a.firestore().collection("Rozmowy").doc(`${e.spotkanie}_${e.miejscowosc}_${e.czyja}`).set({czyja:e.czyja,dane:e.dane?e.dane:"-",nr:e.nr?e.nr:"-",email:e.email?e.email:"-",miejscowosc:e.miejscowosc,informacje:e.informacje,srednica:e.srednica,spotkanie:e.spotkanie,rozpoczecie:e.rozpoczecie,archive:!1}).then(this.handleModalClose)},editTalk(e){this.deleteTalk(e),this.talk=e,console.log(e),this.edit=!0,this.$handleModalOpen()},archiveTalk(e){i.a.firestore().collection("Rozmowy").doc(`${e.spotkanie}_${e.miejscowosc}_${e.czyja}`).set({czyja:e.czyja,dane:e.dane,nr:e.nr,email:e.email,miejscowosc:e.miejscowosc,informacje:e.informacje,srednica:e.srednica,spotkanie:e.spotkanie,rozpoczecie:e.rozpoczecie,archive:!0}).then(this.getTalks(!1,!1))},deleteTalk(e){i.a.firestore().collection("Rozmowy").doc(`${e.spotkanie}_${e.miejscowosc}_${e.czyja}`).delete()},getTalks(e,t){this.flag=t?!this.flag:this.flag;let a=!0===this.flag?"asc":"desc";this.sort=e||this.sort;const n=[];i.a.firestore().collection("Rozmowy").where("archive","==",!1).orderBy(this.sort,a).get().then(e=>{e.forEach(e=>{const t=e.data();t.formattedSpotkanie=this.$formatDate(t.spotkanie),t.search=`${t.miejscowosc} ${t.informacje} ${t.nr} ${t.email}`,n.push(t)})}).then(()=>{!1===Object.is(this.talks,n)&&(this.talks=n,this.frozenTalks=n),0===this.talks.length&&(this.empty=!0)})},searchOnTable:I()((function(){this.talks=this.searchByName(this.talks,this.search)}),500),toLower(e){return e.toString().toLowerCase()},searchByName(e,t){return e=this.frozenTalks,t?e.filter(e=>this.toLower(e.search).includes(this.toLower(t))):this.frozenTalks}},mounted(){this.getTalks(),console.log(i.a.auth().currentUser)},created(){this.searched=this.talks}},se=ne,ie=Object(v["a"])(se,J,Q,!1,null,null,null),oe=ie.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-content",{staticClass:"wrapper"},[a("transition",{attrs:{duration:500,mode:"out-in",appear:"","enter-active-class":"slideInDown","leave-active-class":"slideOutDown"}},[this.empty?a("md-empty-state",{staticClass:"empty",attrs:{"md-icon":"add","md-label":"Nie dodano żadnego wypożyczenia","md-description":"Kliknij, aby dodać wypożyczenie"},nativeOn:{click:function(t){return e.$handleModalOpen(t)}}}):e._e()],1),!1===this.empty?a("md-table",{staticClass:"table",attrs:{"md-card":""}},[a("md-table-toolbar",{staticClass:"table__header"},[a("h1",{staticClass:"md-title table__title"},[e._v("Ilość studni: "+e._s(e.rents.length))]),a("router-link",{staticStyle:{margin:"8px 16px"},attrs:{to:"/Archiwum"}},[a("md-button",{staticClass:"md-raised md-primary"},[a("md-icon",[e._v("archive")]),e._v("Zrobione ")],1)],1),a("md-field",{staticClass:"table__search md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Wyszukaj..."},on:{input:e.searchOnTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("md-table-row",{staticClass:"table--row"},[a("md-table-head",[e._v("Czyja")]),a("md-table-head",[e._v("Dane")]),a("md-table-head",[e._v("Numer")]),a("md-table-head",[e._v("E-mail")]),a("md-table-head",[e._v("Miejscowość")]),a("md-table-head",[e._v("Informacje")]),a("md-table-head",[e._v("Średnica Ø")]),a("md-table-head",[e._v("Rozpoczecie")]),a("md-table-head",[e._v("Wykonanie")]),a("md-table-head",[e._v("Pracownicy")]),a("md-table-head",[e._v("Metry")]),a("md-table-head",[e._v("Zapłacono")]),a("md-table-head",[e._v("Archiwizuj")]),a("md-table-head",[e._v("Edytuj")])],1),e._l(e.rents,(function(t,n){return a("Rent",{key:n,staticClass:"table--row",attrs:{archive:!1,index:n,czyja:t.czyja,dane:t.dane,nr:t.nr,email:t.email,miejscowosc:t.miejscowosc,informacje:t.informacje,srednica:t.srednica,rozpoczecie:t.rozpoczecie,formattedWykonanie:t.formattedWykonanie,pracownicy:t.pracownicy,metry:t.metry,zaplacono:t.zaplacono},on:{archiveRent:function(a){return e.archiveRent(t)},editRent:function(a){return e.editRent(t)}}})}))],2):e._e(),a("transition",{attrs:{mode:"out-in",appear:"","enter-class":"slideDown","leave-to-class":"slideDown","enter-active-class":"slideDown--time","leave-active-class":"slideDown--time"}},[e.modal?a("Modal",{attrs:{defaultRent:this.rent,edit:this.edit,rents:"true",title:"Klienta"},on:{handleModalClose:e.handleModalClose,addRent:e.addRent}}):e._e()],1)],1)},le=[],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-table-row",[a("md-table-cell",[e._v(e._s(e.czyja))]),a("md-table-cell",[e._v(e._s(e.dane))]),a("md-table-cell",[a("a",{attrs:{href:"tel:"+e.nr}},[e._v(e._s(e.nr))])]),a("md-table-cell",[e._v(e._s(e.email))]),a("md-table-cell",[e._v(e._s(e.miejscowosc))]),a("md-table-cell",[e._v(e._s(e.informacje))]),a("md-table-cell",[e._v(e._s(e.srednica))]),a("md-table-cell",[e._v(e._s(e.rozpoczecie))]),a("md-table-cell",[e._v(e._s(e.formattedWykonanie))]),a("md-table-cell",[e._v(e._s(e.pracownicy))]),a("md-table-cell",[e._v(e._s(e.metry))]),a("md-table-cell",[e._v(e._s(e.zaplacono))]),!1===this.archive?a("md-table-cell",[a("md-button",{staticClass:"md-icon-button md-accent",nativeOn:{click:function(t){return e.archiveRent(t)}}},[a("md-icon",[e._v("archive")])],1)],1):e._e(),!1===this.archive?a("md-table-cell",[a("md-button",{staticClass:"md-icon-button md-primary",nativeOn:{click:function(t){return e.editRent(t)}}},[a("md-icon",[e._v("create")])],1)],1):e._e()],1)},de=[],me={name:"Rent",props:{czyja:"",dane:"",nr:"",email:"",miejscowosc:"",informacje:"",srednica:"",rozpoczecie:"",wykonanie:"",formattedWykonanie:"",pracownicy:"",metry:"",zaplacono:"",archive:!1},methods:{archiveRent(){this.$emit("archiveRent")},editRent(){this.$emit("editRent")}}},ue=me,he=Object(v["a"])(ue,ce,de,!1,null,null,null),pe=he.exports,ve={name:"Rents",mixins:[q],data(){return{rents:[],rent:{},frozenRents:[],modal:!1,edit:!1,empty:!1,search:null,searched:[],flag:!1,sort:"wykonanie",sortOrder:"asc"}},components:{Rent:pe,Modal:H},methods:{handleModalClose(){this.rent={},this.modal=!1,this.edit=!1,this.getRents(!1,!1)},addRent(e){this.empty=!1,i.a.firestore().collection("Wypozyczenia").doc(`${e.wykonanie}_${e.miejscowosc}_${e.czyja}`).set({czyja:e.czyja,dane:e.dane?e.dane:"-",nr:e.nr?e.nr:"-",email:e.email?e.email:"-",miejscowosc:e.miejscowosc,informacje:e.informacje,srednica:e.srednica,rozpoczecie:e.rozpoczecie,wykonanie:e.wykonanie?e.wykonanie:"Jeszcze nie wykonana",pracownicy:e.pracownicy?e.pracownicy:"-",metry:e.metry?e.metry:"Jeszcze nie wykonana",zaplacono:e.zaplacono?e.zaplacono:"-",archive:!1}).then(this.handleModalClose)},editRent(e){this.deleteRent(e),this.rent=e,console.log(e),this.edit=!0,this.$handleModalOpen()},archiveRent(e){i.a.firestore().collection("Wypozyczenia").doc(`${e.wykonanie}_${e.miejscowosc}_${e.czyja}`).set({czyja:e.czyja,dane:e.dane,nr:e.nr,email:e.email,miejscowosc:e.miejscowosc,informacje:e.informacje,srednica:e.srednica,rozpoczecie:e.rozpoczecie,wykonanie:e.wykonanie,pracownicy:e.pracownicy,metry:e.metry,zaplacono:e.zaplacono,archive:!0}).then(this.getRents(!1,!1))},deleteRent(e){i.a.firestore().collection("Wypozyczenia").doc(`${e.wykonanie}_${e.miejscowosc}_${e.czyja}`).delete()},getRents(e,t){this.flag=t?!this.flag:this.flag;let a=!0===this.flag?"asc":"desc";this.sort=e||this.sort;const n=[];i.a.firestore().collection("Wypozyczenia").where("archive","==",!1).orderBy(this.sort,a).get().then(e=>{e.forEach(e=>{const t=e.data();t.formattedWykonanie=this.$formatDate(t.wykonanie),t.search=`${t.miejscowosc} ${t.informacje} ${t.nr} ${t.email}`,n.push(t)})}).then(()=>{!1===Object.is(this.rents,n)&&(this.rents=n,this.frozenRents=n),0===this.rents.length&&(this.empty=!0)})},searchOnTable:I()((function(){this.rents=this.searchByName(this.rents,this.search)}),500),toLower(e){return e.toString().toLowerCase()},searchByName(e,t){return e=this.frozenRents,t?e.filter(e=>this.toLower(e.search).includes(this.toLower(t))):this.frozenRents}},mounted(){this.getRents(),console.log(i.a.auth().currentUser)},created(){this.searched=this.rents}},be=ve,fe=Object(v["a"])(be,re,le,!1,null,null,null),_e=fe.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-content",{staticClass:"wrapper"},[a("md-table",{staticClass:"table",attrs:{"md-card":""}},[a("md-table-toolbar",{staticClass:"table__header archive-search"},[a("md-field",{staticClass:"table__search md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Wyszukaj..."},on:{input:e.searchOnTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("md-table-row",{staticClass:"table--row"},[a("md-table-head",[e._v("Czyja")]),a("md-table-head",[e._v("Dane")]),a("md-table-head",[e._v("Numer")]),a("md-table-head",[e._v("E-mail")]),a("md-table-head",[e._v("Miejscowość")]),a("md-table-head",[e._v("Informacje")]),a("md-table-head",[e._v("Średnica Ø")]),a("md-table-head",[e._v("Rozpoczecie")]),a("md-table-head",[e._v("Wykonanie")]),a("md-table-head",[e._v("Pracownicy")]),a("md-table-head",[e._v("Metry")]),a("md-table-head",[e._v("Zapłacono")])],1),e._l(e.rents,(function(e,t){return a("Rent",{key:t,staticClass:"table--row",attrs:{index:t,czyja:e.czyja,dane:e.dane,nr:e.nr,email:e.email,miejscowosc:e.miejscowosc,informacje:e.informacje,srednica:e.srednica,rozpoczecie:e.rozpoczecie,formattedWykonanie:e.formattedWykonanie,pracownicy:e.pracownicy,metry:e.metry,zaplacono:e.zaplacono}})}))],2)],1)},ke=[],we={name:"Rents",data(){return{rents:[],rent:{},flag:!0,flag:!1,sort:"wykonanie",sortOrder:"asc",search:null,searched:[]}},components:{Rent:pe},methods:{getRents(e,t){const a=!0===this.flag?"asc":"desc";this.flag=t?!this.flag:this.flag,this.sort=e||this.sort;const n=[];i.a.firestore().collection("Wypozyczenia").where("archive","==",!0).orderBy(this.sort,a).get().then(e=>{e.forEach(e=>{const t=e.data();t.formattedWykonanie=this.$formatDate(t.wykonanie),t.search=`${t.miejscowosc} ${t.informacje} ${t.nr} ${t.email}`,n.push(t)})}).then(()=>{!1===Object.is(this.rents,n)&&(this.rents=n,this.frozenRents=n),0===this.rents.length&&(this.empty=!0)})},searchOnTable:I()((function(){this.rents=this.searchByName(this.rents,this.search)}),500),toLower(e){return e.toString().toLowerCase()},searchByName(e,t){return t?e.filter(e=>this.toLower(e.search).includes(this.toLower(t))):this.frozenRents}},mounted(){this.getRents()},created(){this.searched=this.rents}},ze=we,je=(a("8761"),Object(v["a"])(ze,ye,ke,!1,null,"3e1c1323",null)),Ce=je.exports;n["default"].use(l["a"]);const ge=new l["a"]({mode:"history",base:"/",routes:[{path:"*",redirect:"/login"},{path:"/login",name:"Login",component:w},{path:"/Home",name:"Home",component:x,meta:{requiresAuth:!0}},{path:"/Flota",name:"Flota",component:Z,meta:{requiresAuth:!0}},{path:"/Rozmowy",name:"Rozmowy",component:oe,meta:{requiresAuth:!0}},{path:"/Wypozyczenia",name:"Wypozyczenia",component:_e,meta:{requiresAuth:!0}},{path:"/Archiwum",name:"Archiwum",component:Ce,meta:{requiresAuth:!0}}]});ge.beforeEach((e,t,a)=>{const{currentUser:n}=i.a.auth(),s=e.matched.some(e=>e.meta.requiresAuth);s&&!n?a("login"):!s&&n?a("Home"):a()});var $e=ge,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("transition",{attrs:{mode:"out-in",appear:"","enter-class":"slideInNav","leave-to-class":"slideOutNav","enter-active-class":"slideInNav--time","leave-active-class":"slideOutNav--time"}},[!0===e.navShow?a("Nav"):e._e()],1),a("transition",{attrs:{mode:"out-in",appear:"","enter-class":"slideInLeft","leave-to-class":"slideOutLeft","enter-active-class":"slideInLeft--time","leave-active-class":"slideOutLeft--time"}},[a("router-view")],1)],1)},Oe=[],Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-toolbar",{staticClass:"nav"},[a("h3",{staticClass:"md-title nav__header"},[e._v("Menu")]),a("router-link",{staticClass:"nav__router",attrs:{to:"/Flota"}},[a("md-button",{staticClass:"nav__button"},[a("md-icon",{staticClass:"nav__icon"},[e._v("directions_car")]),e._v("Magazyn ")],1)],1),a("router-link",{staticClass:"nav__router",attrs:{to:"/Wypozyczenia"}},[a("md-button",{staticClass:"nav__button"},[a("md-icon",{staticClass:"nav__icon"},[e._v("how_to_reg")]),e._v("Pewniaki ")],1)],1),a("router-link",{staticClass:"nav__router",attrs:{to:"/Rozmowy"}},[a("md-button",{staticClass:"nav__button"},[a("md-icon",{staticClass:"nav__icon"},[e._v("assignment")]),e._v("Rozmowy ")],1)],1),a("md-button",{staticClass:"nav__button",nativeOn:{click:function(t){return e.handleModalOpen(t)}}},[a("md-icon",{staticClass:"nav__icon"},[e._v("add")]),e._v(" Dodaj "+e._s(e.type)+" ")],1)],1),a("md-bottom-bar",{staticClass:"nav-mobile"},[a("md-bottom-bar-item",{attrs:{"md-label":"Dodaj","md-icon":"add"},nativeOn:{click:function(t){return e.handleModalOpen(t)}}}),a("md-bottom-bar-item",{attrs:{to:"/Flota","md-label":"Flota","md-icon":"directions_car"}}),a("md-bottom-bar-item",{attrs:{to:"/Wypozyczenia","md-label":"Wypozyczenia","md-icon":"how_to_reg"}}),a("md-bottom-bar-item",{attrs:{to:"/Rezerwacje","md-label":"Rezerwacje","md-icon":"assignment"}})],1)],1)},Te=[],Ie={name:"Nav",props:{type:null},methods:{handleModalOpen(){this.$root.$emit("handleModalOpen")}}},Me=Ie,De=(a("286a"),Object(v["a"])(Me,Re,Te,!1,null,"5aa50849",null)),We=De.exports,Se={components:{Nav:We},data(){return{navShow:!1}},mounted(){"Home"!==this.$route.name&&"Login"!==this.$route.name?this.navShow=!0:this.navShow=!1},watch:{$route(e,t){"Home"!==this.$route.name&&"Login"!==this.$route.name?this.navShow=!0:this.navShow=!1}}},Ee=Se,Le=(a("5c0b"),Object(v["a"])(Ee,xe,Oe,!1,null,null,null)),Ne=Le.exports,Ae=(a("51de"),a("0759"),{methods:{$formatDate(e){const t=new Intl.DateTimeFormat("pl",{day:"numeric",month:"long",year:"numeric"});return"-"===e?"-":t.format(new Date(e))}}});let Pe;n["default"].mixin(Ae),n["default"].use(r.a),n["default"].config.productionTip=!1;const Be={apiKey:"AIzaSyCN1Q7gGNOwmFfOF_CGygCCT3gu7IYHccs",authDomain:"customermanagement-c5773.firebaseapp.com",databaseURL:"https://customermanagement-c5773.firebaseio.com",projectId:"customermanagement-c5773",storageBucket:"customermanagement-c5773.appspot.com",messagingSenderId:"480819409553",appId:"1:480819409553:web:3cc00eaf0249993ae08530",measurementId:"G-4TTFVLN9TP",auth:{rules:{users:{$user_id:{".write":"L7ru3KHaiwcb8356jGvOHmqvoHE5 === auth.uid"}}}}};i.a.initializeApp(Be),i.a.auth().onAuthStateChanged(()=>{Pe||(Pe=new n["default"]({router:$e,render:e=>e(Ne)}).$mount("#app"))})},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},8761:function(e,t,a){"use strict";var n=a("2025"),s=a.n(n);s.a},9279:function(e,t,a){e.exports=a.p+"img/logo-black.c905a3fe.png"},"9c0c":function(e,t,a){},c480:function(e,t,a){"use strict";var n=a("cc95"),s=a.n(n);s.a},cc95:function(e,t,a){},e959:function(e,t,a){}});
//# sourceMappingURL=app.290ca306.js.map